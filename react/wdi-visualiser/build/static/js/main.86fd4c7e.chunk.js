(this["webpackJsonpwdi-visualiser"]=this["webpackJsonpwdi-visualiser"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/world_bank.a6d703ac.png"},34:function(e,t,a){e.exports=a(68)},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),s=a.n(l),i=(a(39),a(1)),c=a(2),u=a(4),o=a(3),p=(a(40),a(14)),m=a.n(p),d=a(5),h=(a(63),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"Header-component"},r.a.createElement("div",{className:"builderDiv",onClick:this.props.showBuilder},"Builder!"),r.a.createElement("div",{className:"resultsDiv",onClick:this.props.showResults},"Results!"),r.a.createElement("div",{className:"mlSearchDiv",onClick:this.props.showModelSearch},"Search!"))}}]),a}(n.Component)),b=Object(d.b)((function(e){return{current_page:e.display.display}}),(function(e){return{showModelSearch:function(){return e({type:"SHOW_MODEL_SEARCH"})},showResults:function(){return e({type:"SHOW_RESULTS"})},showBuilder:function(){return e({type:"SHOW_QUERY_BUILDER"})}}}))(h),v=a(11),E=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"visualiser-header"},r.a.createElement("h2",null,"Linear Regression Model")),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details"},r.a.createElement("div",{className:"model-details-vars-div"},r.a.createElement("h2",null,"Variables"),r.a.createElement("i",null,"Trying to predict")," \xa0 ",r.a.createElement("br",null),r.a.createElement("strong",null,this.props.indicator_mappings[this.props.results.dep_var]),r.a.createElement("br",null)," ",r.a.createElement("i",null,"using")," ",r.a.createElement("br",null),this.props.results.indep_vars.map((function(t){return r.a.createElement("div",null,"> ",e.props.indicator_mappings[t],", ")}))),r.a.createElement("div",{className:"all-results-div"},r.a.createElement("h2",null,"Results"),r.a.createElement("div",{className:"numeric-results-div"},r.a.createElement("div",null,"The R squared value of the model is ",this.props.results["R Squared"]," . ")),r.a.createElement("br",null),r.a.createElement("div",{className:"image-results-div"},r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.results.img_data)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details-other-div"},r.a.createElement("i",null,r.a.createElement("h3",null,"The full details of the dataset used can be seen below:")),r.a.createElement("div",{className:"countries-div"},r.a.createElement("h3",null,"Countries"),this.props.results.countries.map((function(t){return r.a.createElement("div",null,e.props.country_mappings[t],", ")}))),r.a.createElement("div",{className:"years-div"},r.a.createElement("h3",null,"Other details"),r.a.createElement("div",null,"The data was sampled between the years of ",this.props.results.start_year," and ",this.props.results.end_year,"."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"The model was built with the following non default parameters: ",r.a.createElement("br",null),"-- Linear Regression has no params to specify --",Object.entries(this.props.results.ml_specific).map((function(e){var t=Object(v.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,a,": \xa0 ",n)}))))))}}]),a}(n.Component),f=Object(d.b)((function(e){return{ml_mappings:e.mappings.reversed_mappings.ml_types,country_mappings:e.mappings.reversed_mappings.countries,indicator_mappings:e.mappings.reversed_mappings.indicators}}))(E),g=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.props.results.feature_importances[0].length;a++)t.push(r.a.createElement("div",null,r.a.createElement("strong",null,this.props.indicator_mappings[this.props.results.feature_importances[1][a]]),": \xa0",this.props.results.feature_importances[0][a].toFixed(3)));return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"visualiser-header"},r.a.createElement("h2",null,"Random Forest Classification Model")),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details"},r.a.createElement("div",{className:"model-details-vars-div"},r.a.createElement("h2",null,"Variables"),r.a.createElement("i",null,"Trying to predict")," \xa0 ",r.a.createElement("br",null),r.a.createElement("strong",null,this.props.indicator_mappings[this.props.results.dep_var]),r.a.createElement("br",null)," ",r.a.createElement("i",null,"using")," ",r.a.createElement("br",null),this.props.results.indep_vars.map((function(t){return r.a.createElement("div",null,"> ",e.props.indicator_mappings[t],", ")}))),r.a.createElement("div",{className:"all-results-div"},r.a.createElement("div",{className:"numeric-results-div"},"The prediction accuracy of the model is ",this.props.results.accuracy," ."),r.a.createElement("br",null),r.a.createElement("div",null,"With the following confusion matrix:",this.props.results.conf_matrix.map((function(e,t){return r.a.createElement("div",{key:t},e.map((function(e,t){return r.a.createElement("span",{key:t},"| ",e," |")})))}))),r.a.createElement("br",null),r.a.createElement("div",null,"The factors have the following importances:",t),r.a.createElement("div",{className:"image-results-div"},r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.results.img_data)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details-other-div"},r.a.createElement("i",null,r.a.createElement("h3",null,"The full details of the dataset used can be seen below:")),r.a.createElement("div",{className:"countries-div"},r.a.createElement("h3",null,"Countries"),this.props.results.countries.map((function(t){return r.a.createElement("div",null,e.props.country_mappings[t],", ")}))),r.a.createElement("div",{className:"years-div"},r.a.createElement("h3",null,"Other details"),r.a.createElement("div",null,"The data was sampled between the years of ",this.props.results.start_year," and ",this.props.results.end_year,"."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"The model was built with the following non default parameters: ",r.a.createElement("br",null),Object.entries(this.props.results.ml_specific).map((function(e){var t=Object(v.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,a,": \xa0 ",n)}))))))}}]),a}(n.Component),y=Object(d.b)((function(e){return{ml_mappings:e.mappings.reversed_mappings.ml_types,country_mappings:e.mappings.reversed_mappings.countries,indicator_mappings:e.mappings.reversed_mappings.indicators}}))(g),_=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"visualiser-header"},r.a.createElement("h2",null,"Neural Network Classification Model")),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details"},r.a.createElement("div",{className:"model-details-vars-div"},r.a.createElement("h2",null,"Variables"),r.a.createElement("i",null,"Trying to predict")," \xa0 ",r.a.createElement("br",null),r.a.createElement("strong",null,this.props.indicator_mappings[this.props.results.dep_var]),r.a.createElement("br",null)," ",r.a.createElement("i",null,"using")," ",r.a.createElement("br",null),this.props.results.indep_vars.map((function(t){return r.a.createElement("div",null,"> ",e.props.indicator_mappings[t],", ")}))),r.a.createElement("div",{className:"all-results-div"},r.a.createElement("h2",null,"Results"),r.a.createElement("div",{className:"numeric-results-div"},"The prediction accuracy of the model is ",this.props.results.accuracy," ."),r.a.createElement("br",null),r.a.createElement("div",null,"With the following confusion matrix:",this.props.results.conf_matrix.map((function(e,t){return r.a.createElement("div",{key:t},e.map((function(e,t){return r.a.createElement("span",{key:t},"| ",e," |")})))}))),r.a.createElement("br",null),r.a.createElement("div",null,"Other details about Neural Network Classification model in here"),r.a.createElement("div",{className:"image-results-div"},r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.results.img_data)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details-other-div"},r.a.createElement("i",null,r.a.createElement("h3",null,"The full details of the dataset used can be seen below:")),r.a.createElement("div",{className:"countries-div"},r.a.createElement("h3",null,"Countries"),this.props.results.countries.map((function(t){return r.a.createElement("div",null,e.props.country_mappings[t],", ")}))),r.a.createElement("div",{className:"years-div"},r.a.createElement("h3",null,"Other details"),r.a.createElement("div",null,"The data was sampled between the years of ",this.props.results.start_year," and ",this.props.results.end_year,"."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"The model was built with the following non default parameters: ",r.a.createElement("br",null),Object.entries(this.props.results.ml_specific).map((function(e){var t=Object(v.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,a,": \xa0 ",n)}))))))}}]),a}(n.Component),O=Object(d.b)((function(e){return{ml_mappings:e.mappings.reversed_mappings.ml_types,country_mappings:e.mappings.reversed_mappings.countries,indicator_mappings:e.mappings.reversed_mappings.indicators}}))(_),j=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"visualiser-header"},r.a.createElement("h2",null,"Random Forest Regression Model")),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details"},r.a.createElement("div",{className:"model-details-vars-div"},r.a.createElement("h2",null,"Variables"),r.a.createElement("i",null,"Trying to predict")," \xa0 ",r.a.createElement("br",null),r.a.createElement("strong",null,this.props.indicator_mappings[this.props.results.dep_var]),r.a.createElement("br",null)," ",r.a.createElement("i",null,"using")," ",r.a.createElement("br",null),this.props.results.indep_vars.map((function(t){return r.a.createElement("div",null,"> ",e.props.indicator_mappings[t],", ")}))),r.a.createElement("div",{className:"all-results-div"},r.a.createElement("div",{className:"numeric-results-div"},"The R squared value of the model is ",this.props.results["R Squared"]," ."),r.a.createElement("br",null),r.a.createElement("div",null,"Other details about random forest regression model in here"),r.a.createElement("div",{className:"image-results-div"},r.a.createElement("img",{src:"data:image/jpeg;base64,".concat(this.props.results.img_data)})))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"model-details-other-div"},r.a.createElement("i",null,r.a.createElement("h3",null,"The full details of the dataset used can be seen below:")),r.a.createElement("div",{className:"countries-div"},r.a.createElement("h3",null,"Countries"),this.props.results.countries.map((function(t){return r.a.createElement("div",null,e.props.country_mappings[t],", ")}))),r.a.createElement("div",{className:"years-div"},r.a.createElement("h3",null,"Other details"),r.a.createElement("div",null,"The data was sampled between the years of ",this.props.results.start_year," and ",this.props.results.end_year,"."),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,"The model was built with the following parameters: ",r.a.createElement("br",null),Object.entries(this.props.results.ml_specific).map((function(e){var t=Object(v.a)(e,2),a=t[0],n=t[1];return r.a.createElement("div",null,a,": \xa0 ",n)}))))))}}]),a}(n.Component),S=Object(d.b)((function(e){return{ml_mappings:e.mappings.reversed_mappings.ml_types,country_mappings:e.mappings.reversed_mappings.countries,indicator_mappings:e.mappings.reversed_mappings.indicators}}))(j),N=(a(64),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderSwitch",value:function(e){switch(e){case"lin_regression":return r.a.createElement(f,{results:this.props.results});case"rf_classifier":return r.a.createElement(y,{results:this.props.results});case"rf_regression":return r.a.createElement(S,{results:this.props.results});case"nn_classifier":return r.a.createElement(O,{results:this.props.results});default:return r.a.createElement("div",{className:"error-div"},"You currently have no ML model selected. Either build or search for one!")}}},{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"header-space"}),this.renderSwitch(this.props.ml_type),r.a.createElement("br",null))}}]),a}(n.Component)),w=Object(d.b)((function(e){return{results:e.model.results,ml_type:e.model.type}}),(function(e){return{showBuilder:function(){return e({type:"SHOW_QUERY_BUILDER"})}}}))(N),k=a(31),C=a.n(k),M=(a(65),a(10)),R=function(e,t){return{type:"CHANGE_ML_PARAMS",payload:{target:e,value:t}}},L=function(e){return{type:"UPDATE_MODEL",payload:{results:e,type:e.type}}},T=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"updateSelection",value:function(e){this.props.updateMLParams("ml_type",this.props.ml_types[e]),this.props.mlTypeChange()}},{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},"The current model type is:",r.a.createElement("br",null),r.a.createElement(M.Multiselect,{options:Object.keys(this.props.ml_types),onSelect:this.updateSelection.bind(this),onRemove:this.updateSelection.bind(this),isObject:!1,placeholder:"Select ML technique...",singleSelect:!0}),r.a.createElement("br",null))}}]),a}(n.Component),P=Object(d.b)((function(e){return{ml_types:e.mappings.mappings.ml_types}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))},mlTypeChange:function(){return e({type:"ML_TYPE_CHANGE"})}}}))(T),A=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"updateSelection",value:function(e){this.props.updateMLParams("dep_var",this.props.indicators[e])}},{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"header"},"Select the ",r.a.createElement("i",null,"dependant")," variable"),r.a.createElement(M.Multiselect,{options:Object.keys(this.props.indicators),onSelect:this.updateSelection.bind(this),onRemove:this.updateSelection.bind(this),isObject:!1,placeholder:"Search Variables...",selectionLimit:1}),r.a.createElement("br",null))}}]),a}(n.Component),D=Object(d.b)((function(e){return{indicators:e.mappings.mappings.indicators}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(A),I=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"updateSelection",value:function(e){var t=this,a=e.map((function(e){return t.props.indicators[e]}));this.props.updateMLParams("indep_vars",a)}},{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"header"},"Select the independant variables"),r.a.createElement(M.Multiselect,{options:Object.keys(this.props.indicators),onSelect:this.updateSelection.bind(this),onRemove:this.updateSelection.bind(this),isObject:!1,placeholder:"Search Variables..."}),r.a.createElement("br",null))}}]),a}(n.Component),W=Object(d.b)((function(e){return{indicators:e.mappings.mappings.indicators}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(I),H=a(32),G=a.n(H),U=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={checked:!1},e.handleChangeChk=function(){e.setState({checked:!e.state.checked},(function(){e.state.checked?e.props.updateMLParams("countries",Object.values(e.props.countries)):e.props.updateMLParams("countries",[])}))},e}return Object(c.a)(a,[{key:"updateSelection",value:function(e){var t=this,a=e.map((function(e){return t.props.countries[e]}));this.props.updateMLParams("countries",a)}},{key:"render",value:function(){return r.a.createElement("div",{className:"CountrySelect"},r.a.createElement("div",{className:"header"},"Select the countries ",r.a.createElement("small",null,"- toggle switch for all")),r.a.createElement(M.Multiselect,{className:"CountryMultiSelect",options:Object.keys(this.props.countries),onSelect:this.updateSelection.bind(this),onRemove:this.updateSelection.bind(this),isObject:!1,placeholder:"Search Countries...",showCheckbox:!0}),r.a.createElement(G.a,{onChange:this.handleChangeChk,checked:this.state.checked}))}}]),a}(n.Component),x=Object(d.b)((function(e){return{countries:e.mappings.mappings.countries}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(U),B=a(16),q={position:"relative",width:"100%",height:80,border:"1px solid steelblue"},F={position:"absolute",width:"100%",height:10,marginTop:35,borderRadius:5,backgroundColor:"#8B9CB6"};function V(e){var t=e.handle,a=t.id,n=t.value,l=t.percent,s=e.getHandleProps;return r.a.createElement("div",Object.assign({style:{left:"".concat(l,"%"),position:"absolute",marginLeft:-15,marginTop:25,zIndex:2,width:30,height:30,border:0,textAlign:"center",cursor:"pointer",borderRadius:"50%",backgroundColor:"#2C4870",color:"#333"}},s(a)),r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:11,marginTop:-20}},n))}function Y(e){var t=e.source,a=e.target,n=e.getTrackProps;return r.a.createElement("div",Object.assign({style:{position:"absolute",height:10,zIndex:1,marginTop:35,backgroundColor:"#546C91",borderRadius:5,cursor:"pointer",left:"".concat(t.percent,"%"),width:"".concat(a.percent-t.percent,"%")}},n()))}function J(e){var t=e.tick,a=e.count;return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",marginTop:52,marginLeft:-.5,width:1,height:8,backgroundColor:"silver",left:"".concat(t.percent,"%")}}),r.a.createElement("div",{style:{position:"absolute",marginTop:60,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/a/2,"%"),width:"".concat(100/a,"%"),left:"".concat(t.percent,"%")}},t.value))}var z=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.updateMLParams("start_year",t[0]),e.props.updateMLParams("end_year",t[1])},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"header"},"Select the years of data"),r.a.createElement(B.c,{rootStyle:q,domain:[1960,2020],step:1,mode:2,values:[1980,2010],onChange:this.onChange},r.a.createElement(B.b,null,(function(e){var t=e.getRailProps;return r.a.createElement("div",Object.assign({style:F},t()))})),r.a.createElement(B.a,null,(function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map((function(e){return r.a.createElement(V,{key:e.id,handle:e,getHandleProps:a})})))})),r.a.createElement(B.e,{left:!1,right:!1},(function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map((function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(Y,{key:t,source:n,target:l,getTrackProps:a})})))})),r.a.createElement(B.d,{count:5},(function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map((function(e){return r.a.createElement(J,{key:e.id,tick:e,count:t.length})})))}))))}}]),a}(n.Component),Q=Object(d.b)((function(e){return{years:[1960,2020]}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(z),Z=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"ml-specific-div"},"Linear Regression has no specific vals to specify"))}}]),a}(n.Component),K=a(9),X=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={num_classes:3,tree_depth:2},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.id,parseInt(t.target.value)))},e.handleSubmit=function(t){t.preventDefault(),e.props.updateMLParams("ml_specific",e.state)},e}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{id:"ml-specific-div"},r.a.createElement("form",{id:"ml-specific-form",onSubmit:this.handleSubmit.bind(this)},r.a.createElement("label",null,"Number of Classes \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"num_classes",type:"number",value:this.state.num_classes,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("label",null,"Max Tree Depth \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"tree_depth",type:"number",value:this.state.tree_depth,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"ml-specific-submit",type:"submit",value:"Lock in values"})),r.a.createElement("br",null))}}]),a}(n.Component),$=Object(d.b)((function(e){return{blank:1}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(X),ee=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={num_classes:3,hidden_layers:2,nodes_hidden_layers:5},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.id,parseInt(t.target.value)))},e.handleSubmit=function(t){t.preventDefault(),e.props.updateMLParams("ml_specific",e.state)},e}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{id:"ml-specific-div"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("label",null,"Number of Classes \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"num_classes",type:"number",value:this.state.num_classes,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("label",null,"Hidden Layers \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"tree_depth",type:"number",value:this.state.hidden_layers,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("label",null,"Nodes in the hidden layers \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"tree_depth",type:"number",value:this.state.nodes_hidden_layers,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"ml-specific-submit",type:"submit",value:"Lock in values"})),r.a.createElement("br",null))}}]),a}(n.Component),te=Object(d.b)((function(e){return{blank:1}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(ee),ae=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={num_trees:15,tree_depth:2},e.handleChange=function(t){e.setState(Object(K.a)({},t.target.id,parseInt(t.target.value)))},e.handleSubmit=function(t){t.preventDefault(),e.props.updateMLParams("ml_specific",e.state)},e}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{id:"ml-specific-div"},r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("label",null,"Number of Trees \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"num_classes",type:"number",value:this.state.num_trees,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("label",null,"Max Tree Depth \xa0\xa0\xa0\xa0",r.a.createElement("input",{id:"tree_depth",type:"number",value:this.state.tree_depth,onChange:this.handleChange.bind(this)})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"ml-specific-submit",type:"submit",value:"Lock in values"})),r.a.createElement("br",null))}}]),a}(n.Component),ne=Object(d.b)((function(e){return{blank:1}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))}}}))(ae),re=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderSwitch",value:function(e){switch(e){case"lin_regression":return r.a.createElement(Z,null);case"rf_classifier":return r.a.createElement($,null);case"rf_regression":return r.a.createElement(ne,null);case"nn_classifier":return r.a.createElement(te,null);default:return r.a.createElement("div",{className:"error-div"},"No model type has been selected.")}}},{key:"render",value:function(){return r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{className:"header"},"Select the ML specific values"),this.renderSwitch(this.props.type),r.a.createElement("br",null))}}]),a}(n.Component),le=a(33),se=a.n(le),ie=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"Jake"},e.handleSearchClick=function(){e.props.waitingForML(),m.a.post("http://3.139.91.88:4000/mlSearch",e.props.ml_params).then((function(t){e.props.updateSearchResults(t.data),e.props.notWaiting(),e.props.showModelSearch()}),(function(e){console.log(e)}))},e}return Object(c.a)(a,[{key:"handleBuildClick",value:function(){var e=this;this.props.waitingForML(),m.a.post("http://3.139.91.88:4000/mlSubmit",this.props.ml_params).then((function(t){e.props.updateModel(t.data),e.props.notWaiting(),e.props.showResults()}),(function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"QueryBuilder"},r.a.createElement("div",{className:"header-space-builder"}),r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:C.a,className:"wb-logo",alt:"logo"}),r.a.createElement("p",null,"Hi ",this.state.name,"!",r.a.createElement("br",null),"Welcome to ML builder of the World Development Index dataset, from here you can ",r.a.createElement("br",null),"construct new ML models to be built or query the database of existing models!",r.a.createElement("br",null)),this.props.mappings_received?r.a.createElement("div",null,r.a.createElement("div",{className:"heightened-div-1"},r.a.createElement(P,null)),r.a.createElement("div",{className:"heightened-div-2"},r.a.createElement(D,null)),r.a.createElement("div",{className:"heightened-div-3"},r.a.createElement(W,null)),r.a.createElement(x,null),r.a.createElement("br",null),r.a.createElement(Q,null),r.a.createElement("br",null),r.a.createElement(re,{type:this.props.ml_params.ml_type}),r.a.createElement("br",null),r.a.createElement("p",null,"When you're happy with your variable selections click one of the buttons below:"),this.props.waiting_for_ml?r.a.createElement(se.a,{className:"ml-loading",type:"bubbles",height:"20%",width:"20%"}):r.a.createElement("div",{className:"submit-search-btns"},r.a.createElement("button",{className:"btn-ml-submit",onClick:this.handleBuildClick.bind(this)},"Generate Machine Learning Model!"),"\xa0 \xa0 or \xa0 \xa0",r.a.createElement("button",{className:"btn-ml-search-submit",onClick:this.handleSearchClick},"Search for Machine Learning Models!"))):r.a.createElement("p",null,"Please wait whilst the data loads... ")))}}]),a}(n.Component),ce=Object(d.b)((function(e){return{mappings_received:e.mappings.mappings_received,ml_params:e.model.ml_params,waiting_for_ml:e.model.waiting_for_ml}}),(function(e){return{updateMLParams:function(t,a){return e(R(t,a))},updateModel:function(t){return e(L(t))},waitingForML:function(){return e({type:"WAITING_FOR_MODEL"})},notWaiting:function(){return e({type:"NOT_WAITING"})},showResults:function(){return e({type:"SHOW_RESULTS"})},showModelSearch:function(){return e({type:"SHOW_MODEL_SEARCH"})},updateSearchResults:function(t){return e(function(e){return{type:"UPDATE_SEARCH_RESULTS",payload:{results:e}}}(t))}}}))(ie),ue=(a(67),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={},e.handleClick=function(t){e.props.updateModel(t),e.props.showResults()},e.resultsPreview=function(e,t){switch(e){case"lin_regression":return r.a.createElement("div",null,"R^2 of: ",t["R Squared"].toFixed(3));default:return r.a.createElement("div",null)}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"Searcher"},r.a.createElement("div",{className:"header-space"}),"These are the search results for:  ",r.a.createElement("br",null),"ML Type: ",r.a.createElement("strong",null,this.props.ml_mappings[this.props.query.ml_type]),", Dependent Variable: ",r.a.createElement("strong",null,this.props.indicator_mappings[this.props.query.dep_var]),r.a.createElement("br",null),r.a.createElement("br",null),"Select a model from your search to view it more closely!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,this.props.search_results.map((function(t){return r.a.createElement("div",{className:"search-model",key:t._id,onClick:function(){return e.handleClick(t)}},"Model with data from ",t.countries.length," countries over ",t.end_year-t.start_year," years. ",r.a.createElement("br",null),r.a.createElement("br",null),"The independent variables are: ",t.indep_vars.map((function(t){return r.a.createElement("div",null,e.props.indicator_mappings[t],", ")})),"  ",r.a.createElement("br",null),e.resultsPreview(e.props.query.ml_type,t))}))))}}]),a}(n.Component)),oe=Object(d.b)((function(e){return{search_results:e.search.results,query:e.model.ml_params,ml_mappings:e.mappings.reversed_mappings.ml_types,country_mappings:e.mappings.reversed_mappings.countries,indicator_mappings:e.mappings.reversed_mappings.indicators}}),(function(e){return{updateModel:function(t){return e(L(t))},showResults:function(){return e({type:"SHOW_RESULTS"})}}}))(ue),pe=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchMappings()}},{key:"fetchMappings",value:function(){var e=this;this.props.waitingMappings(),m.a.get("http://3.139.91.88:4000/mappings").then((function(t){e.props.addMappings({countries:t.data.countries,indicators:t.data.indicators,ml_types:t.data.mlTypes})})),m.a.get("http://3.139.91.88:4000/revMappings").then((function(t){e.props.addRevMappings({countries:t.data.revCountries,indicators:t.data.revIndicators,ml_types:t.data.revMLTypes})})).then((function(){e.props.receivedMappings()}))}},{key:"renderSwitch",value:function(e){switch(e){case"query":return r.a.createElement(ce,null);case"results":return r.a.createElement(w,null);case"modelSearch":return r.a.createElement(oe,null);default:return r.a.createElement("div",{className:"error-div"},'"There was an error displaying this page."')}}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement("div",{className:"Background"}),this.renderSwitch(this.props.display),r.a.createElement("br",null),r.a.createElement("div",{className:"footer-div"},"App made by Jake Frazer"))}}]),a}(n.Component),me=Object(d.b)((function(e){return{mappings:e.mappings.mappings,mappings_received:e.mappings.mappings_received,model_received:e.model.model_received,display:e.display.display}}),(function(e){return{addMappings:function(t){return e(function(e){return{type:"ADD_MAPPINGS",payload:e}}(t))},addRevMappings:function(t){return e(function(e){return{type:"ADD_REVERSED_MAPPINGS",payload:e}}(t))},waitingMappings:function(){return e({type:"WAITING_MAPPINGS"})},receivedMappings:function(){return e({type:"RECEIVED_MAPPINGS"})}}}))(pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var de=a(13),he=a(6),be={mappings:{},reversed_mappings:{},mappings_received:null},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MAPPINGS":return Object(he.a)(Object(he.a)({},e),{},{mappings:t.payload});case"ADD_REVERSED_MAPPINGS":return Object(he.a)(Object(he.a)({},e),{},{reversed_mappings:t.payload});case"RECEIVED_MAPPINGS":return Object(he.a)(Object(he.a)({},e),{},{mappings_received:!0});case"WAITING_MAPPINGS":return Object(he.a)(Object(he.a)({},e),{},{mappings_received:!1});default:return e}},Ee={ml_params:{ml_type:"",dep_var:"NY.ADJ.NNTY.CD",indep_vars:["NY.ADJ.AEDU.GN.ZS","SE.SEC.UNER.LO.ZS"],countries:["ARB","UKR","USA","GBR","BGR","SPA","NOR","FRO","MEX"],start_year:1980,end_year:2010,ml_specific:{}},name:"Jake",waiting_for_ml:!1,model_received:!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ML_PARAMS":return Object(he.a)(Object(he.a)({},e),{},{ml_params:Object(he.a)(Object(he.a)({},e.ml_params),{},Object(K.a)({},t.payload.target,t.payload.value))});case"UPDATE_MODEL":return Object(he.a)(Object(he.a)({},e),{},{results:t.payload.results,type:t.payload.type,model_received:!0});case"WAITING_FOR_MODEL":return Object(he.a)(Object(he.a)({},e),{},{waiting_for_ml:!0});case"NOT_WAITING":return Object(he.a)(Object(he.a)({},e),{},{waiting_for_ml:!1});case"ML_TYPE_CHANGE":return Object(he.a)(Object(he.a)({},e),{},{ml_params:Object(he.a)(Object(he.a)({},e.ml_params),{},{ml_specific:{}})});default:return e}},ge={display:"query"},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_QUERY_BUILDER":return Object(he.a)(Object(he.a)({},e),{},{display:"query"});case"SHOW_RESULTS":return Object(he.a)(Object(he.a)({},e),{},{display:"results"});case"SHOW_MODEL_SEARCH":return Object(he.a)(Object(he.a)({},e),{},{display:"modelSearch"});default:return e}},_e={query:{},results:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_RESULTS":return Object(he.a)(Object(he.a)({},e),{},{results:t.payload.results});default:return e}},je=Object(de.b)({mappings:ve,model:fe,display:ye,search:Oe}),Se=Object(de.c)(je);console.log("store state is:   "),console.log(Se.getState());var Ne=Se;s.a.render(r.a.createElement(d.a,{store:Ne},r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.86fd4c7e.chunk.js.map